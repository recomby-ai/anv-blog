---
layout: default
---

<!-- 1. 默认 Schema.org - BlogPosting（固定保留，除非手动禁用） -->
{% unless page.disable_auto_schema %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "{{ page.title }}",
  "description": "{{ page.description | default: page.excerpt | strip_html | truncate: 160 }}",
  {% if page.images %}
  "image": [
    {% for img in page.images %}
    "{{ site.url }}{{ img }}"{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ],
  {% elsif page.image %}
  "image": "{{ site.url }}{{ page.image }}",
  {% else %}
  "image": "{{ site.url }}/assets/images/default.jpg",
  {% endif %}
  "datePublished": "{{ page.date | date_to_xmlschema }}",
  "dateModified": "{{ page.last_modified_at | default: page.date | date_to_xmlschema }}",
  "author": {
    "@type": "Person",
    "name": "{{ page.author | default: site.author.name }}"
  },
  "publisher": {
    "@type": "Organization",
    "name": "{{ site.company.name | default: site.title }}",
    "logo": {
      "@type": "ImageObject",
      "url": "{{ site.url }}/assets/images/logo.png"
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "{{ site.url }}{{ page.url }}"
  },
  "keywords": "{{ page.tags | join: ', ' }}",
  "articleSection": "{{ page.category | default: 'Blog' }}",
  "inLanguage": "{{ page.lang | default: site.lang | default: 'en' }}"
}
</script>
{% endunless %}

<!-- 2. FAQ Schema（可选，在 front matter 中定义 faq 即可） -->
{% if page.faq %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {% for item in page.faq %}
    {
      "@type": "Question",
      "name": "{{ item.q | escape }}",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "{{ item.a | escape }}"
      }
    }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ]
}
</script>
{% endif %}

<!-- 3. 自定义 Schemas（完全由你控制，可添加 Product, HowTo, Video 等） -->
{% if page.custom_schemas %}
{% for schema in page.custom_schemas %}
<script type="application/ld+json">
{{ schema }}
</script>
{% endfor %}
{% endif %}

<article itemscope itemtype="http://schema.org/BlogPosting">
    <header>
        <h1 itemprop="headline">{{ page.title }}</h1>
        <div class="post-meta">
            <time datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">
                {{ page.date | date: "%B %d, %Y" }}
            </time>
            {% if page.author %}
            by <span itemprop="author" itemscope itemtype="http://schema.org/Person">
                <span itemprop="name">{{ page.author }}</span>
            </span>
            {% endif %}
            {% if page.tags %}
            <span class="tags">
                {% for tag in page.tags %}
                <span itemprop="keywords">#{{ tag }}</span>
                {% endfor %}
            </span>
            {% endif %}
        </div>
    </header>

    <div class="post-content" itemprop="articleBody">
        {{ content }}
    </div>

    <footer class="post-footer">
        {% if page.last_modified_at %}
        <p><small>Last updated: <time datetime="{{ page.last_modified_at | date_to_xmlschema }}" itemprop="dateModified">{{ page.last_modified_at | date: "%B %d, %Y" }}</time></small></p>
        {% endif %}

        <div class="post-navigation">
            <a href="{{ site.baseurl }}/" class="back-to-home">← Back to Home</a>
        </div>
    </footer>
</article>

<style>
    article header {
        border-bottom: 2px solid #eee;
        padding-bottom: 20px;
        margin-bottom: 30px;
    }
    article header h1 {
        color: #333;
        font-size: 2.5em;
        line-height: 1.2;
        margin-bottom: 15px;
    }
    .post-footer {
        margin-top: 50px;
        padding-top: 30px;
        border-top: 2px solid #eee;
    }
    .post-navigation {
        margin-top: 20px;
    }
    .back-to-home {
        display: inline-block;
        padding: 10px 20px;
        background: #0066cc;
        color: white !important;
        border-radius: 5px;
        text-decoration: none;
        font-weight: 500;
    }
    .back-to-home:hover {
        background: #0052a3;
        text-decoration: none;
    }
</style>
